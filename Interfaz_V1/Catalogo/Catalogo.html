<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Catalogo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="divEncabezado">
        <button class="abrirSidebar" onclick=openSidebar()>Abrir Barra de Herramientas</button>
        <div id="sidebar" class="sidebar">
            <h2>Barra de Herramientas</h2>
            <div class="contenidoSidebar">
                <button class="btn"></i> Comprar Servicio</button>
                <button class="btn"></i> Reservar Servicio</button>
                <button class="btn"></i> Agregar Servicio a Lista de Deseos</button>
            </div>
        </div>
        <div class="contenedorEncabezado">
            <h1>Catalogo de Servicios</h1>
            <div class="espacioInput">
                <input id="buscar" placeholder="Buscar" class="input" name="text" type="text">
                <i onclick="buscar()" class="fa fa-search iconoLupa"></i>
            </div>
            <button onclick=mostrarFichasServicios() class="btn"></i> Servicios</button>
            <button onclick=mostrarFichasPaquetes() class="btn"></i> Paquetes</button>
            <button onclick=mostrarFichasEmpresas() class="btn"></i> Empresas</button>
            <button onclick=mostrarTodos() class="btn"> Todos</button>
            <button onclick=mostrarFiltros() id="filtros" class="btn">Activar Filtros</button>
            <div class="drop">
                <button onclick=dropFiltros() id="botonDrop" class="botonDrop">Filtros</button>
                <div id="opcionesFiltros" class="opciones">
                    <select id="filtrosCombo" onchange=mostrar(value)>
                        <option value="">Selecciona una opción</option>
                        <option value="ubicaciones">Ubicaciones</option>
                        <option value="servicios">Servicios</option>
                        <option value="paquetes">Paquetes</option>
                    </select>
                    <div id="opcionesUbicaciones" class="checkboxes-opciones" style="display: none;">
                        <label><input type="checkbox" name="ubicacion" value="Limon"> Limon</label><br>
                        <label><input type="checkbox" name="ubicacion" value="San Jose"> San Jose</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Guanacaste"> Guanacaste</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Alajuela"> Alajuela</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Heredia"> Heredia</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Cartago"> Cartago</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Puntarenas"> Puntarenas</label><br>
                    </div>
                    <div id="opcionesServicios" class="checkboxes-opciones" style="display: none;">
                        <label><input type="checkbox" name="ubicacion" value="Hoteles"> Hoteles</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Tours"> Tours</label><br>
                        <label><input type="checkbox" name="ubicacion" value=""> Restaurantes</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Otros"> Otros</label><br>
                    </div>
                    <div id="opcionesPaquetes" class="checkboxes-opciones" style="display: none;">
                        <label><input type="checkbox" name="ubicacion" value="Individual"> Individual</label><br>
                        <label><input type="checkbox" name="ubicacion" value="Paquete"> Paquete</label><br>
                    </div>
                </div>
            </div>



        </div>
    </div>
    <div class="divPagina">
        <div class="contenedorPagina">
            <div class="ficha" id="Servicio">
                <img src=..\Servicios\imagenes_servicio_1\288437695.jpg style="width:100%">
                <h1>Bambutel Cocles</h1>
                <p id="Ubicacion">Limon</p>
                <p id="Precio">34354 colones la noche</p>
                <p id="Tipo">Individual</p>
                <p id="TipoServicio">Hotel</p>
                <p><button onclick=irAPaginaServicio1()>Acceder al servicio</button></p>
            </div>

            <div class="ficha" id="Servicio">
                <img src=..\Servicios\imagenes_servicio_2\3c.jpg style="width:100%">
                <h1>Caminata por la jungla de Puerto Viejo</h1>
                <p id="Ubicacion">Limon</p>
                <p id="Precio">525 doleares</p>
                <p id="Tipo">Individual</p>
                <p id="TipoServicio">Tour</p>
                <p><button onclick=irAPaginaServicio2()>Acceder al servicio</button></p>
            </div>

            <div class="ficha" id="Servicio">
                <img src=..\Servicios\imagenes_servicio_3\3t.jpg style="width:100%">
                <h1>Paseo por la selva tropical de Veragua</h1>
                <p id="Ubicacion">Puntarenas</p>
                <p id="Precio">50 peso</p>
                <p id="Tipo">Individual</p>
                <p id="TipoServicio">Restaurante</p>
                <p><button onclick=irAPaginaServicio3()>Acceder al servicio</button></p>
            </div>

            <div class="ficha" id="Empresa">
                <img src=..\Servicios\imagenes_servicio_4\5p.jpg style="width:100%">
                <h1>Recorrido por el pacuare en Rafting</h1>
                <p id="Ubicacion">Limon</p>
                <p id="Precio">120 dolares</p>
                <p id="Tipo">Individual</p>
                <p id="TipoServicio">Otros</p>
                <p><button onclick=irAPaginaServicio4()>Acceder al servicio</button></p>
            </div>

            <div class="ficha" id="Empresa">
                <img src=Imagenes\Capitan1303.jpg style="width:100%">
                <h1>Restaurante La Almeja</h1>
                <p id="Ubicacion">Puntarenas</p>
                <p id="Precio"></p>
                <p id="Tipo">Individual</p>
                <p id="TipoServicio">Restaurante</p>
                <p><button>Acceder al servicio</button></p>
            </div>

            <div class="ficha" id="Paquete">
                <img src=Imagenes\60.jpg style="width:100%">
                <h1>Vuelta por Guanacaste</h1>
                <p id="Ubicacion">Puntarenas</p>
                <p id="Precio">400 dolares</p>
                <p id="Tipo">Paquete</p>
                <p id="TipoServicio">Otros</p>
                <p><button>Acceder al servicio</button></p>
            </div>
        </div>
    </div>
    <div onclick=mostrarFormulario() class="divFormulario">
        <h1>¿Necesitas ayuda o quieres compartir tu experiencia con nosotros?</h1>
        <h2>Haz clic aquí para contarnos tu situación</h2>
    </div>
    <div class="contenedorFormulario" id="formulario">
        <h2>Formulario de Contacto</h2>
        <form action="#" method="post">
            <input type="text" class="input" placeholder="Nombre" required>
            <input type="email" class="input" placeholder="Correo Electrónico" required>
            <textarea class="input mensaje" placeholder="Comentario/Experiencia" required></textarea>
            <button type="submit" class="btn">Enviar</button>
        </form>
        <button onclick=cerrarFormulario() class="btnCerrar">Cerrar</button>
    </div>

    <script>
        function irAPaginaServicio1() {
            window.location.href = "../Servicios//servicio_1_Alojamiento.html";
            //window.location.href = "../Reserva y compras/pagos_y_reservas_1.html";
        }

        function irAPaginaServicio2() {
            window.location.href = "../Servicios//servicio_2_cascada_Puerto.html";
        }

        function irAPaginaServicio3() {
            window.location.href = "../Servicios//servicio_3_veragua.html";
        }

        function irAPaginaServicio4() {
            window.location.href = "../Servicios//servicio_4_pacuare.html";
        }
        
        function mostrarFichasServicios() {
            const paquetes = document.querySelectorAll(".ficha#Paquete");
            paquetes.forEach(paquete => {
                paquete.style.display = "none";
            });

            const empresas = document.querySelectorAll(".ficha#Empresa");
            empresas.forEach(empresa => {
                empresa.style.display = "none";
            });

            const servicios = document.querySelectorAll(".ficha#Servicio");
            servicios.forEach(servicio => {
                servicio.style.display = "block";
            });
        }

        function mostrarFichasPaquetes() {
            const servicios = document.querySelectorAll(".ficha#Servicio");
            servicios.forEach(servicio => {
                servicio.style.display = "none";
            });

            const empresas = document.querySelectorAll(".ficha#Empresa");
            empresas.forEach(empresa => {
                empresa.style.display = "none";
            });

            const paquetes = document.querySelectorAll(".ficha#Paquete");
            paquetes.forEach(paquete => {
                paquete.style.display = "block";
            });
        }

        function mostrarFichasEmpresas() {
            const servicios = document.querySelectorAll(".ficha#Servicio");
            servicios.forEach(servicio => {
                servicio.style.display = "none";
            });

            const paquetes = document.querySelectorAll(".ficha#Paquete");
            paquetes.forEach(paquete => {
                paquete.style.display = "none";
            });

            const empresas = document.querySelectorAll(".ficha#Empresa");
            empresas.forEach(empresa => {
                empresa.style.display = "block";
            });

        }

        function mostrarTodos() {
            const paquetes = document.querySelectorAll(".ficha#Servicio");
            paquetes.forEach(paquete => {
                paquete.style.display = "block";
            });

            const servicios = document.querySelectorAll(".ficha#Paquete");
            servicios.forEach(servicio => {
                servicio.style.display = "block";
            });
        }

        function buscar() {
            var flag = 0;
            var botonFiltro = document.getElementById("filtros");
            if (botonFiltro.innerText === "Desactivar Filtros") {
                flag = 1;
            }

            const textoBusqueda = document.getElementById("buscar").value.toLowerCase();
            const ubicacionesSeleccionadas = Array.from(document.querySelectorAll('#opcionesUbicaciones input[type="checkbox"]:checked')).map(cb => cb.value);
            const serviciosSeleccionados = Array.from(document.querySelectorAll('#opcionesServicios input[type="checkbox"]:checked')).map(cb => cb.value);
            const paquetesSeleccionados = Array.from(document.querySelectorAll('#opcionesPaquetes input[type="checkbox"]:checked')).map(cb => cb.value);

            const fichas = document.querySelectorAll(".ficha");

            fichas.forEach(ficha => {
                const titulo = ficha.querySelector("h1").textContent.toLowerCase();
                const ubicacion = ficha.querySelector("#Ubicacion").textContent.trim();
                const tipo = ficha.querySelector("#Tipo").textContent.trim();
                const tipoServicio = ficha.querySelector("#TipoServicio").textContent.trim();

                const coincideBusqueda = titulo.includes(textoBusqueda);
                const coincideUbicacion = ubicacionesSeleccionadas.length === 0 || ubicacionesSeleccionadas.includes(ubicacion);
                const coincideTipoServicio = serviciosSeleccionados.length === 0 || serviciosSeleccionados.includes(tipoServicio);
                const coincideTipo = paquetesSeleccionados.length === 0 || paquetesSeleccionados.includes(tipo);

                if (flag === 1) {
                    if (coincideBusqueda && coincideUbicacion && (coincideTipoServicio || coincideTipo)) {
                        ficha.style.display = "block";
                    } else {
                        ficha.style.display = "none";
                    }
                } else {
                    if (coincideBusqueda) {
                        ficha.style.display = "block";
                    } else {
                        ficha.style.display = "none";
                    }
                }
            });
        }



        function mostrarFormulario() {
            document.getElementById("formulario").style.display = "block";
            document.getElementById("overlay").style.display = "block";
        }

        function cerrarFormulario() {
            document.getElementById("formulario").style.display = "none";
            document.getElementById("overlay").style.display = "none";
        }

        function mostrarFiltros() {
            var boton = document.getElementById("botonDrop");
            var botonFiltro = document.getElementById("filtros");

            if (boton.style.display === "none" || boton.style.display === "") {
                botonFiltro.innerText = "Desactivar Filtros";
                boton.style.display = "block";
            } else {
                botonFiltro.innerText = "Activar Filtros";
                boton.style.display = "none";
            }
        }



        function dropFiltros() {
            var opciones = document.getElementById("opcionesFiltros");
            if (opciones.style.display === "block") {
                opciones.style.display = "none";
            } else {
                opciones.style.display = "block";
            }
        }
        //Tengo que ver esto
        window.onclick = function (event) {
            const opciones = document.getElementById("opcionesFiltros");
            const botonDrop = document.querySelector(".botonDrop");
            if (!opciones.contains(event.target) && event.target !== botonDrop) {
                opciones.style.display = "none";
            }
        };


        window.onclick = function (event) {
            const sidebar = document.getElementById("sidebar");
            const openButton = document.querySelector(".abrirSidebar");

            if (!sidebar.contains(event.target) && event.target !== openButton) {
                closeSidebar();
            }
        }

        function mostrar(value) {
            if (value == "servicios") {
                mostrarServicios()
            }
            else if (value == "ubicaciones") {
                mostrarProvincias()
            }
            else if (value == "paquetes") {
                mostrarPaquetes()
            }
            else {
                return
            }
        }

        function mostrarProvincias() {
            var opcionesServicios = document.getElementById("opcionesServicios");
            if (opcionesServicios.style.display === "block") {
                opcionesServicios.style.display = "none";
            }

            var opcionesPaquetes = document.getElementById("opcionesPaquetes");
            if (opcionesPaquetes.style.display === "block") {
                opcionesPaquetes.style.display = "none";
            }

            var opcionesUbicaciones = document.getElementById("opcionesUbicaciones");
            if (opcionesUbicaciones.style.display === "none" || opcionesUbicaciones.style.display === "") {
                opcionesUbicaciones.style.display = "block";
            } else {
                opcionesUbicaciones.style.display = "none";
            }
        }

        function mostrarServicios() {
            var opcionesServicios = document.getElementById("opcionesUbicaciones");
            if (opcionesServicios.style.display === "block") {
                opcionesServicios.style.display = "none";
            }

            var opcionesPaquetes = document.getElementById("opcionesPaquetes");
            if (opcionesPaquetes.style.display === "block") {
                opcionesPaquetes.style.display = "none";
            }

            var opcionesServicios = document.getElementById("opcionesServicios");
            if (opcionesServicios.style.display === "none" || opcionesServicios.style.display === "") {
                opcionesServicios.style.display = "block";
            } else {
                opcionesServicios.style.display = "none";
            }
        }

        function mostrarPaquetes() {
            var opcionesServicios = document.getElementById("opcionesServicios");
            if (opcionesServicios.style.display === "block") {
                opcionesServicios.style.display = "none";
            }

            var opcionesServicios = document.getElementById("opcionesUbicaciones");
            if (opcionesServicios.style.display === "block") {
                opcionesServicios.style.display = "none";
            }

            var opcionesPaquetes = document.getElementById("opcionesPaquetes");
            if (opcionesPaquetes.style.display === "none" || opcionesPaquetes.style.display === "") {
                opcionesPaquetes.style.display = "block";
            } else {
                opcionesPaquetes.style.display = "none";
            }
        }

        function openSidebar() {
            document.getElementById("sidebar").style.width = "250px";
        }

        function closeSidebar() {
            document.getElementById("sidebar").style.width = "0";
        }

    </script>
</body>

</html>